---
title: "ue 5.7.0pでprojectを作り直す"
slug: "ue-57p"
date: "2025-09-25"
tags: ["ue", "mac", "linux"]
draft: false
---

`unreal engine 5.7.0-preview`が来ました。

[https://forums.unrealengine.com/t/unreal-engine-5-7-preview/2658958](https://forums.unrealengine.com/t/unreal-engine-5-7-preview/2658958)

`vrm4u`は`5.7`に対応しているので、game animation sample(gasp)をベースに構築してみます。

- gasp: [https://www.fab.com/listings/880e319a-a59e-4ed2-b268-b32dac7fa016](https://www.fab.com/listings/880e319a-a59e-4ed2-b268-b32dac7fa016)
- vrm4u: [https://github.com/ruyo/VRM4U/releases/](https://github.com/ruyo/VRM4U/releases/)

## game animation sample for ue5.7

1. まず空のprojectをue5.7で作ります。私は後に利用する`Valiant Combat`で作りました。[a]とします。
2. game animation sampleのproject(gasp)はまだ対応していないので、ue5.6で作ります。[b]とします。
3. [b]の`${project}/Config`, `${project}.uproject`を参考に[a]に移植します。

```json:${project}.uproject
"Plugins": [
	{
		"Name": "ModelingToolsEditorMode",
		"Enabled": true,
		"TargetAllowList": [
			"Editor"
		]
	},
	{
		"Name": "AnimationWarping",
		"Enabled": true
	},
	{
		"Name": "RigLogic",
		"Enabled": true
	},
	{
		"Name": "LiveLink",
		"Enabled": true
	},
	{
		"Name": "LiveLinkControlRig",
		"Enabled": true
	},
	{
		"Name": "PoseSearch",
		"Enabled": true
	},
	{
		"Name": "AnimationLocomotionLibrary",
		"Enabled": true
	},
	{
		"Name": "MotionWarping",
		"Enabled": true
	},
	{
		"Name": "HairStrands",
		"Enabled": true
	},
	{
		"Name": "Chooser",
		"Enabled": true
	},
	{
		"Name": "Mover",
		"Enabled": true
	},
	{
		"Name": "NetworkPrediction",
		"Enabled": true
	}
]
```

特に`../Config/DefaultEngine.ini`が重要です。

これで完了です。普通に動きます。グラフィックがきれいになっているような気がして、軽量感も少し上がってるかも。

![](/img/ue_v570p_gasp_vrm4u_0001.png)

package buildは少し分かりづらいですが、`[]Windows`となっているところを`[o]Windows`にしないといけません。gasp + vrm4uでのpackage buildはwin, macで成功しました。macはxcode26でいけます。


linuxは失敗です。`Microsoft.MakeFile.Targets 44`なので、調べてみると`toolchain: v26_clang-20.x.x`が必要なのでしょう。まだ公開されていないと思います。docsにはlinkがありませんでした。

[https://dev.epicgames.com/documentation/ja-jp/unreal-engine/linux-development-requirements-for-unreal-engine](https://dev.epicgames.com/documentation/ja-jp/unreal-engine/linux-development-requirements-for-unreal-engine)

1. `/Source/`にc++を置いて、`.uproject`を右クリックで`generate visual studio project files`を選択。
2. `${project}.sln`を開きます。
3. Development: Linux
4. 右エクスプローラーから`$project`を選択して、右クリックでbuildを開始。

{{< msg type="warning" content="This version of the Unreal Engine can only be compiled with clang 20.x. clang 18.1.0 may not build it" >}}

```sh
# https://cdn.unrealengine.com/CrossToolchain_Linux/v25_clang-18.1.0-rockylinux8.exe
& "C:\Program Files\Epic Games\UE_5.7\Engine\Build\BatchFiles\Build.bat" Airse Linux Development -Project="C:\Users\syui\Documents\Unreal Projects\5.7\Airse\Airse.uproject" -WaitMutex -FromMsBuild

エラー: MSB3073
Airse: "C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Microsoft\VC\v170\Microsoft.MakeFile.Targets" 44
```

## ue5.7に移行する

最近はproject再構築と新しいbuild環境の構築をやっていたので、ついでに`5.7`に移行することにしました。まだ手を付けている部分が少ない時に移行したほうがよいと判断。

